<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Avatar AR con QR</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
</head>
<body style="margin:0px; overflow:hidden;">
    <a-scene 
        embedded 
        arjs="sourceType: webcam; detectionMode: mono; matrixCodeType: 3x3;"
        renderer="logarithmicDepthBuffer: true;"
    >
        <!-- Avatar 3D que aparecerá sobre el marcador QR -->
        <a-entity
            id="avatar"
            gltf-model="url(https://cdn.jsdelivr.net/gh/KhronosGroup/glTF-Sample-Models/2.0/Fox/glTF/Fox.gltf)"
            scale="0.05 0.05 0.05"
            position="0 0.5 0"
            animation-mixer
        ></a-entity>
        
        <!-- Marcador para QR code (tipo 3x3) -->
        <a-marker 
            type="barcode" 
            value="5"
            raycaster="objects: .clickable"
            emitevents="true"
            cursor="fuse: false; rayOrigin: mouse;"
        >
            <!-- El avatar estará dentro del marcador para que aparezca cuando se detecte el QR -->
            <a-entity
                gltf-model="url(https://cdn.jsdelivr.net/gh/KhronosGroup/glTF-Sample-Models/2.0/Fox/glTF/Fox.gltf)"
                scale="0.05 0.05 0.05"
                position="0 0.5 0"
                animation-mixer
            ></a-entity>
        </a-marker>
        
        <a-entity camera></a-entity>
    </a-scene>
</body>
</html>
